# =========================================================
# fastlane/.env.fastlane 示例（主配置）
# 用途：本地 + CI 共用的默认配置
# 注意：把本文件复制为 fastlane/.env.fastlane 后再填写真实值
# =========================================================

# --------------------
# 1) Pgyer 分发
# --------------------
# 必填：蒲公英 API Key（dev/dis/staging/prod 上传到 pgyer 时使用）
PGYER_API_KEY=YOUR_PGYER_API_KEY
# 可选：蒲公英页面链接，通知里会带上该链接
# PGYER_APP_URL=https://www.pgyer.com/your_app

# --------------------
# 2) 证书签名（match）
# --------------------
# 可选但推荐：match 证书仓库地址（manual signing/CI 强烈建议配置）
MATCH_GIT_URL={{MATCH_GIT_URL}}
# match 分支，通常使用 main
MATCH_GIT_BRANCH={{MATCH_GIT_BRANCH}}
# match 解密密码（示例）
# MATCH_PASSWORD=xxx

# --------------------
# 3) 质量门禁
# --------------------
# true: 启用质量门禁；false: 跳过门禁
ENABLE_QUALITY_GATE={{ENABLE_QUALITY_GATE}}
# true: 运行 scan 单元测试
ENABLE_TESTS={{ENABLE_TESTS}}
# true: 运行 swiftlint（未安装会给 warning 并跳过）
ENABLE_SWIFTLINT={{ENABLE_SWIFTLINT}}

# --------------------
# 4) 通知通道
# --------------------
# true: 启用 Slack 通知
ENABLE_SLACK_NOTIFY={{ENABLE_SLACK_NOTIFY}}
# Slack Webhook 地址
SLACK_WEBHOOK_URL=
# true: 启用企业微信通知
ENABLE_WECHAT_NOTIFY={{ENABLE_WECHAT_NOTIFY}}
# 企业微信机器人 Webhook 地址
WECHAT_WEBHOOK_URL=

# --------------------
# 5) 截图 + 元数据流水线
# --------------------
# true: 启用 snapshot 截图 lane
ENABLE_SNAPSHOT={{ENABLE_SNAPSHOT}}
# snapshot 使用的 scheme（通常与发布 scheme 一致）
SNAPSHOT_SCHEME={{SNAPSHOT_SCHEME}}
# 逗号分隔设备列表，例如：iPhone 15 Pro,iPhone 15
SNAPSHOT_DEVICES={{SNAPSHOT_DEVICES}}
# 逗号分隔语言列表，例如：en-US,zh-Hans
SNAPSHOT_LANGUAGES={{SNAPSHOT_LANGUAGES}}
# App Store metadata 目录（deliver/metadata_sync 使用）
METADATA_PATH={{METADATA_PATH}}
# true: 发布时上传 metadata
ENABLE_METADATA_UPLOAD={{ENABLE_METADATA_UPLOAD}}
# true: 发布时上传 screenshots
ENABLE_SCREENSHOT_UPLOAD={{ENABLE_SCREENSHOT_UPLOAD}}

# --------------------
# 6) 构建性能 / CI
# --------------------
# true: gym 跳过 clean（构建更快，适合 CI 缓存场景）
GYM_SKIP_CLEAN={{GYM_SKIP_CLEAN}}
# DerivedData 目录（可用于构建缓存）
DERIVED_DATA_PATH={{DERIVED_DATA_PATH}}
# true: ci_setup 中执行 bundle install（可结合缓存）
CI_BUNDLE_INSTALL={{CI_BUNDLE_INSTALL}}
# true: cocoapods 启用 deployment 模式（依赖更稳定）
CI_COCOAPODS_DEPLOYMENT={{CI_COCOAPODS_DEPLOYMENT}}
# true: 输出构建产物清单 JSON
ENABLE_ARTIFACT_MANIFEST=true

# --------------------
# 7) App Store Connect 发布
# --------------------
# App Store Connect API Key 文件路径（.p8）
# APP_STORE_CONNECT_API_KEY_PATH=/absolute/path/AuthKey_xxx.p8
# TestFlight 测试组（逗号分隔）
# TESTFLIGHT_GROUPS=Internal,QA

# --------------------
# 8) 进阶覆盖项（按 lane 覆盖）
# --------------------
# 可选：目标 Target 名称（默认等于 PROJECT_NAME）
# FL_TARGET={{PROJECT_NAME}}

# dev lane 覆盖
# DEV_SCHEME={{SCHEME_DEV}}
# DEV_BUNDLE_ID={{BUNDLE_ID_DEV}}
# DEV_PROFILE={{PROFILE_DEV}}
# DEV_EXPORT_METHOD=development
# DEV_CONFIGURATION=Debug
# DEV_UPLOAD_PGYER=true

# dis lane 覆盖
# DIS_SCHEME={{SCHEME_DIS}}
# DIS_BUNDLE_ID={{BUNDLE_ID_DIS}}
# DIS_PROFILE={{PROFILE_DIS}}
# DIS_EXPORT_METHOD=ad-hoc
# DIS_CONFIGURATION=Release
# DIS_UPLOAD_PGYER=true
